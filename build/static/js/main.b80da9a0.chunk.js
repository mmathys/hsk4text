(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(6),a=n.n(s),i=(n(11),n(2)),u=n.n(i),o=n(4),l=n(3),f=(n(13),n(14),n(0)),j=function(e){return e.map((function(e){return e.split("\uff1a")[0].length<=4})).reduce((function(e,t){return e&&t}))};function d(e){var t=Object(c.useState)(),n=Object(l.a)(t,2),r=n[0],s=n[1],a=function(e){var t=e.split("\uff1a");return 1===t.length?["",t[0]]:[t[0]+"\uff1a",t.slice(1).reduce((function(e,t){return e+"\uff1a"+t}))]};return Object(c.useEffect)((function(){(function(){var t=Object(o.a)(u.a.mark((function t(){var n,c,r,i,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p(e.config),t.next=3,fetch("text/".concat(n,".txt"));case 3:return c=t.sent,t.next=6,c.text();case 6:r=t.sent,i=r.split("\n"),j(i)?(o=i.map(a),s(o)):(l=i.map((function(e){return["",e]})),s(l));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"table",children:null===r||void 0===r?void 0:r.map((function(e){return Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("p",{className:"cell dialog-head",children:e[0]}),Object(f.jsx)("p",{className:"cell",children:e[1]})]})}))})})}function p(e){if(e)return(e.lesson<10?"0":"")+e.lesson+"-"+e.text}var b=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(),a=Object(l.a)(s,2),i=a[0],j=a[1],b=Object(c.useRef)(null);return Object(c.useEffect)((function(){(function(){var e=Object(o.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("config.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("div",{className:"nav",children:function(){if(n)return n.texts.map((function(e){var t="nav-entry "+(e===i?"active":"");return Object(f.jsxs)("div",{className:t,onClick:function(){return function(e){console.log(e),j(e),b.current&&b.current.load()}(e)},children:["Lesson ",e.lesson,", Text ",e.text]},p(e))}))}()}),function(){if(i){return Object(f.jsxs)("div",{className:"text chinese",children:[i.title&&Object(f.jsx)("p",{className:"title",children:i.title}),Object(f.jsx)(d,{config:i}),Object(f.jsxs)("audio",{className:"audio",controls:!0,ref:b,children:[Object(f.jsx)("source",{src:"audio/".concat(p(i),".mp3"),type:"audio/mpeg"}),"Your browser does not support the audio element."]})]})}}()]})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(b,{})}),document.getElementById("root")),x()}},[[16,1,2]]]);
//# sourceMappingURL=main.b80da9a0.chunk.js.map