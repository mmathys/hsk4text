(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(7),i=n.n(s),a=(n(12),n(2)),u=n.n(a),o=n(4),l=n(3),f=(n(14),n(15),n(0)),j=function(e){return e.map((function(e){return e.split("\uff1a")[0].length<=4})).reduce((function(e,t){return e&&t}))};function d(e){var t=Object(c.useState)(),n=Object(l.a)(t,2),r=n[0],s=n[1],i=function(e){var t=e.split("\uff1a");return 1===t.length?["",t[0]]:[t[0]+"\uff1a",t.slice(1).reduce((function(e,t){return e+"\uff1a"+t}))]};return Object(c.useEffect)((function(){(function(){var t=Object(o.a)(u.a.mark((function t(){var n,c,r,a,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=v(e.config),t.next=3,fetch("text/".concat(n,".txt"));case 3:return c=t.sent,t.next=6,c.text();case 6:r=t.sent,a=r.split("\n"),j(a)?(o=a.map(i),s(o)):(l=a.map((function(e){return["",e]})),s(l));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"table",children:null===r||void 0===r?void 0:r.map((function(e){return Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("p",{className:"cell dialog-head",children:e[0]}),Object(f.jsx)("p",{className:"cell",children:e[1]})]})}))})})}var p=n(6),b=n.n(p);function v(e){if(e)return(e.lesson<10?"0":"")+e.lesson+"-"+e.text}var x=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(),i=Object(l.a)(s,2),a=i[0],j=i[1],p=Object(c.useState)(-1),x=Object(l.a)(p,2),h=x[0],O=x[1],m=Object(c.useRef)(null);return Object(c.useEffect)((function(){(function(){var e=Object(o.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("config.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("div",{className:"nav",children:function(){if(n){var e=function(e){return function(){O(e===h?-1:e)}},t=function(e,t){if(t===h){var n=function(e){return"nav-entry"+(e===a?" active":"")};return e.map((function(e){return Object(f.jsxs)("div",{className:n(e),onClick:function(){return function(e){j(e),m.current&&m.current.load()}(e)},children:["Text ",e.text]},v(e))}))}},c=b.a.groupBy(n.texts,(function(e){return e.lesson}));return b.a.keys(c).map((function(n){var r=parseInt(n),s=c[n],i="nav-lesson"+(r===(null===a||void 0===a?void 0:a.lesson)?" active":"");return Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{className:i,onClick:e(r),children:["Lesson ",n]}),t(s,r)]})}))}}()}),function(){if(a){return Object(f.jsxs)("div",{className:"text chinese",children:[a.title?Object(f.jsx)("p",{className:"title",children:a.title}):void 0,Object(f.jsx)(d,{config:a}),Object(f.jsxs)("audio",{className:"audio",controls:!0,ref:m,children:[Object(f.jsx)("source",{src:"audio/".concat(v(a),".mp3"),type:"audio/mpeg"}),"Your browser does not support the audio element."]})]})}}()]})})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(x,{})}),document.getElementById("root")),h()}},[[19,1,2]]]);
//# sourceMappingURL=main.833f7a01.chunk.js.map